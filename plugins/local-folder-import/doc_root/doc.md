# 本地文件夹导入（local-folder-import）— 使用说明

本插件用于把**某个本地文件夹中的图片**批量导入到 Kabegame 图库。

## 适用场景

- 你电脑里已经有一堆壁纸/图片，想一次性导入到图库里管理
- 想按扩展名筛选，只导入 `jpg/png/webp` 等

## 一步步怎么用

1. 打开 **画廊 / 开始导入**
2. 在“选择源”里选 **本地文件夹导入**
3. 在“插件配置”里：
   - **文件夹路径**：点“选择”挑一个文件夹
   - **文件扩展名**：按需选择（不选会用默认值）
4. 点 **开始收集**

任务创建后会开始扫描文件并把图片加入下载队列；导入完成后会自动出现在图库中。

## 配置项说明

- **文件夹路径（folder_path）**
  - 选择要扫描的本地文件夹
  - 注意：当前是**非递归**扫描，只会导入该文件夹“第一层”的图片；子文件夹不会被扫描
- **文件扩展名（file_extensions）**
  - 一个扩展名列表（不带点号），例如：`jpg`, `png`, `webp`
  - 默认：`["jpg","jpeg","png","gif","webp","bmp"]`
  - 建议：如果你文件夹很大，尽量只选你需要的扩展名，扫描会更快

## Windows 路径提示

- 建议直接用“选择文件夹”按钮，不需要手动输入路径
- 如果你要手动输入：
  - 支持：`D:\Pictures\Wallpapers`
  - 也支持（更通用）：`file:///D:/Pictures/Wallpapers`

## 导入规则/常见问题

- **会不会把原文件删掉？**
  - 不会。本插件通过 `download_image` 走导入流程，后端会复制/保存到图库目录，不会删除源文件。
- **重复导入会怎样？**
  - 如果数据库里已经存在同路径的图片，后端会跳过再次入队（并在需要时补全缩略图）。
- **为什么我选了文件夹但显示“文件夹中没有找到符合条件的文件”？**
  - 常见原因：
    - 文件在子文件夹里（当前插件不递归）
    - 扩展名没选对（比如图片是 `JPG`/`JPEG`/`WEBP`，建议把对应项也勾上）
    - 文件夹里其实没有图片文件


